# 💬 任務討論系統使用指南

## 🎯 功能概覽

任務討論系統是一個強大的團隊協作工具，讓您可以在處理訂單時與同事即時溝通、標記重要事項、快速回覆。

---

## ✨ 主要功能

### 1. **優先級管理** 🎯

為評論設定優先級，確保重要事項不被遺漏：

- **💬 一般** - 日常溝通
- **⭐ 重要** - 需要注意的事項
- **🔴 緊急** - 需要立即處理

**使用方式：**
- 在發送評論前，點選優先級按鈕
- 緊急和重要評論會以不同顏色和邊框突出顯示
- 用戶頭像會顯示優先級指示點

---

### 2. **評論置頂** 📌

將重要評論置頂，方便團隊快速查看關鍵資訊。

**使用方式：**
- 點擊評論右上角的 📌 圖標
- 置頂的評論會顯示在評論列表最上方
- 再次點擊可取消置頂

**使用場景：**
- 訂單特殊要求
- 緊急聯絡資訊
- 重要注意事項
- 客戶特殊需求

---

### 3. **搜尋評論** 🔍

快速找到特定內容或人員的評論。

**使用方式：**
- 在搜尋框輸入關鍵字
- 系統會即時篩選符合的評論
- 搜尋範圍包括評論內容和用戶名稱

---

### 4. **優先級篩選** 🎚️

按優先級查看評論，專注處理緊急事項。

**使用方式：**
- 點選優先級篩選按鈕：全部 / 💬 / ⭐ / 🔴
- 只顯示選定優先級的評論
- 配合搜尋功能使用更精準

---

### 5. **未讀評論** 🔔

快速查看最近24小時內其他人的評論。

**使用方式：**
- 點擊「僅未讀」按鈕
- 只顯示其他同事在24小時內發送的評論
- 未讀數量會顯示在標題區

---

### 6. **快速回覆** ⚡

使用預設模板快速回覆，提高溝通效率。

**使用方式：**
1. 點擊「顯示快速回覆」
2. 選擇合適的回覆模板
3. 模板會自動填入輸入框，可以修改
4. 發送評論

**預設模板：**
- ✅ 已確認
- 👍 收到，處理中
- ⏳ 需要時間處理
- ❓ 需要更多資訊
- ✔️ 已完成
- 🚨 緊急！需立即處理
- 🔄 等待上級回覆
- 📋 已記錄

---

### 7. **@ 提及功能** 👥

提及特定同事，確保他們看到重要訊息。

**使用方式：**
1. 在評論中輸入 `@`
2. 系統會自動顯示同事列表
3. 選擇要提及的同事
4. 被提及的同事會收到即時通知

**提及顯示：**
- 提及會以藍色標籤突出顯示
- 格式：`@username`

---

### 8. **回覆評論** 💬

針對特定評論進行回覆，保持對話連貫性。

**使用方式：**
1. 點擊評論右上角的回覆按鈕
2. 輸入框會顯示回覆提示
3. 發送回覆
4. 回覆會縮排顯示在原評論下方

---

## 🎨 視覺化指南

### 優先級顏色系統

```
🔴 緊急 = 紅色邊框 + 紅色標籤 + 紅色指示點
⭐ 重要 = 黃色邊框 + 黃色標籤 + 黃色指示點
💬 一般 = 無特殊標記
```

### 評論狀態

```
📌 置頂 = 金色外框 + 置頂標籤
🆕 未讀 = 24小時內且非本人
```

---

## 💡 使用技巧

### 1. **重要事項溝通流程**

```
1️⃣ 選擇「🔴 緊急」或「⭐ 重要」
2️⃣ 使用 @ 提及相關同事
3️⃣ 發送評論
4️⃣ 置頂該評論（如需長期可見）
```

### 2. **快速處理訂單問題**

```
1️⃣ 查看「僅未讀」評論
2️⃣ 使用快速回覆確認
3️⃣ 需要時 @ 提及其他同事
```

### 3. **歷史記錄查詢**

```
1️⃣ 使用搜尋功能輸入關鍵字
2️⃣ 配合優先級篩選縮小範圍
3️⃣ 查看相關評論和回覆
```

---

## 🔄 實時更新

系統會自動：
- ✅ 每30秒刷新評論列表
- ✅ 即時顯示新評論（WebSocket）
- ✅ 自動滾動到最新評論
- ✅ 通知被 @ 提及的用戶

---

## 📊 數據統計

標題區會顯示：
- 總評論數
- 未讀評論數（24小時內）
- 置頂評論數

---

## 🚀 最佳實踐

### ✅ 建議

1. **使用優先級** - 區分重要性，避免重要訊息被忽略
2. **善用置頂** - 將關鍵資訊置頂，減少重複溝通
3. **@ 提及** - 確保相關人員收到通知
4. **快速回覆** - 提高回應速度，增強團隊協作
5. **搜尋功能** - 快速找到歷史討論，避免重複詢問

### ❌ 避免

1. 避免過度使用「緊急」標籤
2. 不要在評論中放入敏感資訊
3. 避免長篇大論，保持簡潔
4. 不要忽略被 @ 提及的訊息

---

## 🎯 使用場景示例

### 場景1：訂單有問題需要主管確認

```
優先級：🔴 緊急
內容：@manager 這個訂單的收件地址有誤，客戶要求改地址，請確認是否同意修改
操作：置頂該評論
```

### 場景2：通知同事接手任務

```
優先級：⭐ 重要
內容：@colleague 這筆訂單我已完成揀貨，麻煩你接手包裝，物品在A區01層
操作：使用快速回覆「✅ 已確認」
```

### 場景3：記錄特殊包裝要求

```
優先級：⭐ 重要
內容：客戶要求禮品包裝，需要使用藍色包裝紙和緞帶
操作：置頂該評論
```

### 場景4：日常進度更新

```
優先級：💬 一般
內容：已完成50%，預計15分鐘內完成
操作：不需置頂
```

---

## 🔧 技術資訊

### 資料保存
- 評論永久儲存於資料庫
- 置頂狀態儲存於瀏覽器本地（localStorage）
- 切換裝置時需重新置頂

### 性能優化
- 自動索引優化（order_id, priority）
- 評論樹狀結構（支援回覆）
- WebSocket 即時推送

### 瀏覽器支援
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

---

## 📞 問題回報

如遇到問題，請聯繫系統管理員並提供：
1. 訂單編號
2. 問題截圖
3. 操作步驟
4. 瀏覽器版本

---

## 🎉 更新日誌

### v2.0.0 (2025-01-13)
- ✨ 新增優先級管理
- ✨ 新增評論置頂功能
- ✨ 新增搜尋和篩選
- ✨ 新增快速回覆模板
- ✨ 新增未讀提示
- 🎨 優化UI/UX設計
- 🔧 後端API增強

### v1.0.0
- 基礎評論功能
- @ 提及功能
- 回覆評論
- 即時更新

---

**祝使用愉快！有任何建議歡迎回饋 💪**
